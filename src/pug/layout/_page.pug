include /pug/abstracts/_mixins
include /pug/layout/_nav

doctype html
html(lang="en")

  block head
    head
      meta(charset="utf-8")
      title= title
      meta(name="author" content="Daur Gamisonia, daurgam@gmail.com, Russia | Moscow")
      meta(name="viewport" content="width=device-width, initial-scale=1")
      meta(name="robots" content="noindex")
      link(href="css/main.css" rel="stylesheet")

      script(defer src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous")

      //build:js js/main.min.js defer
      script(defer src="js/index.js")
      script(defer src="js/util.js")
      script(defer src="js/modal.js")
      script(defer src="js/tab.js")
      script(defer src="js/nav.js")
      script(defer src="js/shop-btn.js")
      script(defer src="js/video.js")
      //endbuild

  block page
    body
      block nav
        +nav

      block content

      block footer
        include /pug/layout/_footer

      //build:remove
      script.
        // Display viewport size of the page.
        const element = document.createElement("div");

        element.style.cssText = `
          position: fixed;
          z-index: 9999;
          bottom: 0;
          left: 1%;
          background: white;
          color: blue;
        `;

        document.body.append( element );

        [ "DOMContentLoaded", "resize" ].forEach(( item ) => {
          window.addEventListener( item, () => {
            element.textContent = window.innerWidth + "x" + window.innerHeight;
          });
        });
      //endbuild
